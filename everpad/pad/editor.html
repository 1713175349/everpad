<!DOCTYPE html>
<html>
<style type='text/css'>
    .tab {
        margin-left: 12px;
        width: 0px;
        height: 0px;
        display: inline-block
    }
</style>
<body>
<form>
<h2 
    contenteditable="true"
    id='title'>%(title)s</h2>
<div 
    contenteditable="true"
    id='content'>%(content)s</div>
</form>
<script type="text/javascript">
    function insertEl(el) {
        var _this = document.getElementById('content');
        var selection = window.getSelection();
        var range = selection.getRangeAt(0);
        range.collapse(false);
        range.deleteContents();
        range.insertNode(el);
        range = range.cloneRange();
        range.setStart(el, 0);
        range.setEndAfter(el);
        range.collapse(false);
        selection.removeAllRanges();
        selection.addRange(range);
    }
    var content = document.getElementById('content');
    content.onfocus = function() {
        console.log("body");
    };
    content.onkeydown = function(event) {
        if (event.keyCode == 9){
            event.preventDefault();
            var el = document.createElement("img");
            el.className = "tab";
            insertEl(el);
            return false;
        }
    };
    var title = document.getElementById('title');
    title.onfocus = function() {
        console.log("head");
    };
</script>
</body>
</html>